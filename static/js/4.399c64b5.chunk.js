(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[4],{38:function(e,n,t){e.exports={"detail-info":"DetailInfo_detail-info__2qnu5","detail-title":"DetailInfo_detail-title__3R63X","detail-typography":"DetailInfo_detail-typography__3gxHS","detail-description":"DetailInfo_detail-description__2ZuH3","button-watch":"DetailInfo_button-watch__24XsJ"}},39:function(e,n,t){e.exports={genres:"Genres_genres__1IhVP"}},40:function(e,n,t){"use strict";var a=t(38),s=t.n(a),c=t(39),r=t.n(c),i=t(1),o=function(e){var n=e.genres;return Object(i.jsx)("div",{className:r.a.genres,children:n.map((function(e){return Object(i.jsx)("span",{children:e.name},e.id)}))})},d=t(6);n.a=function(e){var n=e.title,t=e.overview,a=e.runtime,c=e.release_date,r=e.director,l=e.genres,u=e.media,p=e.movieId,j=e.hasButton;return Object(i.jsxs)("div",{className:s.a["detail-info"],children:[Object(i.jsx)("div",{className:s.a["detail-title"],children:Object(i.jsx)("h1",{children:n})}),Object(i.jsx)("div",{className:"".concat(s.a["detail-typography"]," ").concat(s.a["detail-description"]),children:t}),Object(i.jsxs)("div",{className:s.a["detail-typography"],children:[a&&"tv"!==u&&Object(i.jsxs)("span",{children:["Duration: ",a,"m"]}),c&&c&&Object(i.jsxs)("span",{children:["Release date: ",c]}),r&&Object(i.jsxs)("span",{children:["Director: ",r]}),Object(i.jsx)(o,{genres:l})]}),j&&Object(i.jsx)(d.b,{to:"/watch/".concat(u,"/").concat(p),children:Object(i.jsx)("button",{className:s.a["button-watch"],children:"Watch now"})})]})}},44:function(e,n,t){e.exports={container:"WatchMovie_container__15Yix","player-container":"WatchMovie_player-container__15O1s",player:"WatchMovie_player__xzI15",detail:"WatchMovie_detail__2_yC9"}},45:function(e,n,t){e.exports={"seasAndEps-container":"SeasAndEps_seasAndEps-container__2opk6","seasons-container":"SeasAndEps_seasons-container__3rSNE","episodes-container":"SeasAndEps_episodes-container__V9avL",episodes:"SeasAndEps_episodes__3hO1S",seasons:"SeasAndEps_seasons__3JdWN"}},47:function(e,n,t){"use strict";t.r(n);var a=t(16),s=t.n(a);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var o=t(18),d=t(4),l=t(0),u=t(2),p=t(7),j=t(44),b=t.n(j),f=t(40),h=t(45),v=t.n(h),O=t(1),_=function(e){var n=e.seasAndEpsData,t=e.onChangeSeason,a=e.currentSsAndEps,s=e.onChangeEpisode,c=function(e){t(e)},r=function(e){s(e)};return Object(O.jsxs)("div",{className:v.a["seasAndEps-container"],children:[Object(O.jsxs)("div",{className:v.a["seasons-container"],children:[Object(O.jsx)("h3",{children:"Seasons:"}),Object(O.jsx)("div",{className:v.a.seasons,children:n.map((function(e){return Object(O.jsx)("span",{onClick:c.bind(null,e.season_number),children:e.name},e.id)}))})]}),Object(O.jsxs)("div",{className:v.a["episodes-container"],children:[Object(O.jsx)("h3",{children:"Episodes:"}),Object(O.jsx)("div",{className:v.a.episodes,children:null===n||void 0===n?void 0:n.at(a-1).episodes.map((function(e){return Object(O.jsx)("span",{onClick:r.bind(null,e.episode_number),children:e.episode_number},e.id)}))})]})]})};n.default=function(){var e=Object(u.g)(),n=e.movieId,t=e.media,a=Object(l.useState)(),c=Object(d.a)(a,2),r=c[0],j=c[1],h=Object(l.useState)({tvId:null,seasonNumber:1,currentEpisode:1,seasAndEpsData:null}),v=Object(d.a)(h,2),m=v[0],x=v[1];Object(l.useEffect)((function(){var e=function(){var e=Object(o.a)(s.a.mark((function e(a){var c,r,o,d,l,u,b,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return c=e.sent,e.next=5,c.json();case 5:if(r=e.sent,j(r),"tv"!==t){e.next=26;break}o=r.number_of_seasons,d=[],l=1;case 11:if(!(l<=o)){e.next=22;break}return e.next=14,fetch("".concat(p.f,"/").concat(t,"/").concat(n,"/season/").concat(l,"?api_key=").concat(p.a));case 14:return u=e.sent,e.next=17,u.json();case 17:b=e.sent,d.push(b);case 19:l++,e.next=11;break;case 22:return e.next=24,Promise.all(d);case 24:f=e.sent,x((function(e){return i(i({},e),{},{tvId:r.id,seasAndEpsData:f})}));case 26:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();e("".concat(p.f,"/").concat(t,"/").concat(n,"?api_key=").concat(p.a))}),[t,n]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:b.a.container,children:[Object(O.jsx)("div",{className:b.a["player-container"],children:Object(O.jsx)("iframe",{className:b.a.player,src:"movie"===t?"".concat(p.d).concat(n):m.tvId&&"".concat(p.e).concat(m.tvId,"&s=").concat(m.seasonNumber,"&e=").concat(m.currentEpisode),title:"Movie player",frameBorder:"0",allowFullScreen:!0})}),"tv"===t&&m.seasAndEpsData&&Object(O.jsx)(_,{seasAndEpsData:m.seasAndEpsData,onChangeSeason:function(e){x((function(n){return i(i({},n),{},{seasonNumber:e,currentEpisode:1})}))},onChangeEpisode:function(e){x((function(n){return i(i({},n),{},{currentEpisode:e})}))},currentSsAndEps:m.seasonNumber})]}),Object(O.jsx)("div",{className:b.a.detail,children:r&&Object(O.jsx)(f.a,{title:r.title,overview:r.overview,runtime:r.runtime,release_date:r.release_date,genres:r.genres,media:t,movieId:n})})]})}}}]);
//# sourceMappingURL=4.399c64b5.chunk.js.map